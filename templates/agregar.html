<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agregar Producto</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 font-sans min-h-screen flex flex-col
             bg-cover bg-center bg-fixed
             [background-image:url('/static/img/wallpaper.jpg')]">

  <!-- HEADER -->
  <header class="w-full bg-purple-600/50 backdrop-blur-md shadow-md px-6 py-4 flex justify-between items-center relative z-50">
    <!-- LOGO -->
    <h1 class="text-2xl font-bold text-white tracking-tight flex items-center gap-2">
      <img src="{{ url_for('static', filename='icons/badge-check.svg') }}" alt="Logo" class="w-6 h-6">
      GabrielStore
    </h1>

    <!-- BOTÓN MENÚ HAMBURGUESA -->
    <button id="btn-menu" aria-label="Abrir menú"
            class="p-2 rounded-md hover:bg-purple-500/30 transition">
      <img src="{{ url_for('static', filename='icons/menu(1).svg') }}" alt="Menú" class="w-6 h-6 filter invert">
    </button>

    <!-- DROPMENU -->
    <div id="menu-general"
         class="absolute right-6 top-16 w-56 bg-white rounded-xl shadow-2xl hidden z-50">
      <ul class="py-2 text-gray-700 text-sm divide-y divide-gray-200">
        <li>
          <a href="/" class="flex items-center gap-2 px-4 py-2 hover:bg-purple-100">
            <img src="{{ url_for('static', filename='icons/cog.svg') }}" alt="Home" class="w-5 h-5">
            Home
          </a>
        </li>
        <li>
          <a href="/productos" class="flex items-center gap-2 px-4 py-2 hover:bg-purple-100">
            <img src="{{ url_for('static', filename='icons/productos.svg') }}" alt="Productos" class="w-5 h-5">
            Productos
          </a>
        </li>
        <li>
          <a href="/perfil" class="flex items-center gap-2 px-4 py-2 hover:bg-purple-100">
            <img src="{{ url_for('static', filename='icons/user.svg') }}" alt="Perfil" class="w-5 h-5">
            Perfil
          </a>
        </li>
        <li>
          <a href="/logout" class="flex items-center gap-2 px-4 py-2 text-red-500 hover:bg-red-100">
            <img src="{{ url_for('static', filename='icons/log-out.svg') }}" alt="Salir" class="w-5 h-5">
            Salir
          </a>
        </li>
      </ul>
    </div>
  </header>

  <!-- MAIN -->
  <main class="flex-1 container mx-auto px-6 flex justify-center items-start mt-10">

    <form method="POST"
          enctype="multipart/form-data"
          class="bg-white/90 w-full max-w-xl rounded-2xl shadow-2xl p-8 space-y-6 backdrop-blur-md">

      <!-- Título -->
      <div class="text-center flex flex-col items-center gap-2">
        <img src="{{ url_for('static', filename='icons/layers-plus.svg') }}" alt="Nuevo producto" class="w-8 h-8 text-purple-600">
        <h2 class="text-3xl font-bold text-gray-800">
          Nuevo Producto
        </h2>
        <p class="text-sm text-gray-600 mt-1">
          Completa la información para añadirlo al inventario
        </p>
      </div>

      <!-- Nombre -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
          <img src="{{ url_for('static', filename='icons/productos.svg') }}" alt="Nombre" class="w-4 h-4">
          Nombre del producto
        </label>
        <input type="text"
               name="nombre"
               placeholder="Ej: Zapatillas Urban Pro"
               required
               class="w-full border border-gray-300 rounded-lg px-4 py-2
                      focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:outline-none">
      </div>

      <!-- Descripción -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
          <img src="{{ url_for('static', filename='icons/square-pen.svg') }}" alt="Descripción" class="w-4 h-4">
          Descripción
        </label>
        <textarea name="descripcion"
                  rows="3"
                  placeholder="Descripción breve y clara del producto"
                  class="w-full border border-gray-300 rounded-lg px-4 py-2
                         focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:outline-none"></textarea>
      </div>

      <!-- Precio / Stock -->
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
            <img src="{{ url_for('static', filename='icons/circle-dollar-sign.svg') }}" alt="Precio" class="w-4 h-4">
            Precio
          </label>
          <input type="number"
                 step="0.01"
                 min="0"
                 name="precio"
                 placeholder="Ej: 19990"
                 required
                 class="w-full border border-gray-300 rounded-lg px-4 py-2
                        focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:outline-none">
        </div>

        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
            <img src="{{ url_for('static', filename='icons/warehouse.svg') }}" alt="Stock" class="w-4 h-4">
            Stock inicial
          </label>
          <input type="number"
                 min="0"
                 name="stock"
                 placeholder="Ej: 20"
                 required
                 class="w-full border border-gray-300 rounded-lg px-4 py-2
                        focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:outline-none">
        </div>
      </div>

      <!-- Imagen -->
      <div>
        <label class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
          <img src="{{ url_for('static', filename='icons/circle-plus.svg') }}" alt="Imagen" class="w-4 h-4">
          Imagen del producto
        </label>
        <input type="file"
               name="imagen"
               accept="image/*"
               class="w-full border border-gray-300 rounded-lg px-4 py-2
                      bg-gray-50 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 focus:outline-none">
        <p class="text-xs text-gray-500 mt-1">
          Formatos recomendados: JPG, PNG · Máx. 2MB
        </p>
      </div>

      <!-- Botón -->
      <button type="submit"
              class="w-full bg-purple-600/90 hover:bg-purple-700
                     text-white font-semibold py-3 rounded-xl
                     transition transform hover:scale-[1.02] shadow-lg flex items-center justify-center gap-2">
        <img src="{{ url_for('static', filename='icons/badge-check.svg') }}" alt="Guardar" class="w-5 h-5">
        Guardar Producto
      </button>

    </form>
  </main>

  <!-- SCRIPT DROPMENU -->
  <script>
    const btnMenu = document.getElementById('btn-menu');
    const menuGeneral = document.getElementById('menu-general');

    if (btnMenu) {
      btnMenu.addEventListener('click', () => {
        menuGeneral.classList.toggle('hidden');
      });

      window.addEventListener('click', (e) => {
        if (!btnMenu.contains(e.target) && !menuGeneral.contains(e.target)) {
          menuGeneral.classList.add('hidden');
        }
      });
    }
  </script>

</body>
</html>