{% extends "base.html" %}
{% block content %}

<div class="max-w-7xl mx-auto p-8 space-y-10">

    <!-- PERFIL -->
    <div
        class="bg-white/90 dark:bg-gray-800/90 backdrop-blur-md p-6 rounded-2xl shadow-2xl flex flex-col sm:flex-row items-center gap-6">
        {% if current_user.foto_perfil %}
        <img src="{{ current_user.foto_perfil }}" alt="Foto de perfil de {{ current_user.nombre }}"
            class="h-28 w-28 object-cover rounded-full border-4 border-purple-500 hover:scale-105 transition">
        {% else %}
        <div class="h-28 w-28 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-sm">
            <img src="{{ url_for('static', filename='icons/user.svg') }}" alt="Sin foto" class="h-6 w-6 mr-2">
            Sin foto
        </div>
        {% endif %}

        <div class="text-center sm:text-left flex-1">
            <h1 class="text-3xl font-extrabold text-gray-800 dark:text-gray-100 flex items-center gap-2">
                <img src="{{ url_for('static', filename='icons/shield-user.svg') }}" alt="Perfil" class="h-6 w-6">
                {{ current_user.nombre }}
            </h1>
            <p class="text-gray-500 dark:text-gray-400 text-sm mt-1 flex items-center gap-2">
                <img src="{{ url_for('static', filename='icons/key.svg') }}" alt="Email" class="h-4 w-4">
                {{ current_user.email }}
            </p>
            <span class="inline-block mt-2 px-3 py-1 rounded-full text-xs font-semibold 
                   {% if current_user.rol == 'cliente' %}bg-blue-100 text-blue-700
                   {% elif current_user.rol == 'vendedor' %}bg-green-100 text-green-700
                   {% elif current_user.rol == 'admin' %}bg-purple-100 text-purple-700
                   {% elif current_user.rol == 'bloqueado' %}bg-gray-200 text-gray-700
                   {% else %}bg-gray-100 text-gray-800{% endif %}">
                {{ current_user.rol|capitalize }}
            </span>

            <!-- BotÃ³n editar perfil -->
            <div class="mt-4">
                <a href="{{ url_for('perfil.editar_perfil') }}"
                    class="inline-flex items-center gap-2 bg-purple-600/90 text-white px-4 py-2 rounded-lg font-semibold shadow hover:bg-purple-700 hover:scale-[1.02] transition">
                    <img src="{{ url_for('static', filename='icons/square-pen.svg') }}" alt="Editar" class="h-5 w-5">
                    Editar perfil
                </a>
            </div>
        </div>
    </div>

    <!-- CLIENTE -->
    {% if current_user.rol == 'cliente' %}
    ...
    {% endif %}

    <!-- VENDEDOR -->
    {% if current_user.rol == 'vendedor' %}
    ...
    {% endif %}

</div>

{% endblock %}