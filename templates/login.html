{% extends "base.html" %}
{% block content %}
<div class="flex items-center justify-center min-h-screen bg-transparent">

  <!-- Card -->
  <div class="w-full max-w-md bg-gray-900/90 dark:bg-gray-800/90 
              backdrop-blur-md p-8 rounded-3xl shadow-2xl border border-gray-700">

    <!-- Marca -->
    <div class="text-center mb-8 flex flex-col items-center">
      <h1 class="text-4xl font-extrabold text-purple-700 tracking-tight flex items-center gap-2">
        <img src="{{ url_for('static', filename='icons/shield-user.svg') }}" alt="Login" class="h-8 w-8 icon-purple">
        Gabriel-Store
      </h1>
      <p class="text-sm text-gray-500 mt-2 flex items-center gap-2">
        <img src="{{ url_for('static', filename='icons/cog.svg') }}" alt="Panel" class="h-4 w-4 icon-purple">
        Acceso al panel de gestión
      </p>
    </div>

    <!-- Mensajes -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm shadow-sm flex items-center gap-2">
          <img src="{{ url_for('static', filename='icons/triangle-alert.svg') }}" alt="Error" class="h-4 w-4 icon-purple">
          {{ messages[0] }}
        </div>
      {% endif %}
    {% endwith %}

    <!-- Form -->
    <form method="POST" class="space-y-5">

      <!-- Email -->
      <div>
        <label for="email" class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
          <img src="{{ url_for('static', filename='icons/user.svg') }}" alt="Email" class="h-4 w-4 icon-purple">
          Correo electrónico
        </label>
        <input type="email"
               name="email"
               id="email"
               placeholder="ejemplo@correo.com"
               required
               class="w-full border border-gray-300 rounded-lg px-4 py-2
                      focus:outline-none focus:ring-2 focus:ring-purple-500
                      focus:border-purple-500 transition duration-200">
      </div>

      <!-- Password -->
      <div>
        <label for="password" class="block text-sm font-semibold text-gray-700 mb-1 flex items-center gap-2">
          <img src="{{ url_for('static', filename='icons/key.svg') }}" alt="Contraseña" class="h-4 w-4 icon-purple">
          Contraseña
        </label>
        <input type="password"
               name="password"
               id="password"
               placeholder="••••••••"
               required
               class="w-full border border-gray-300 rounded-lg px-4 py-2
                      focus:outline-none focus:ring-2 focus:ring-purple-500
                      focus:border-purple-500 transition duration-200">
      </div>

      <!-- Botón -->
      <button type="submit"
              class="w-full bg-purple-600/90 text-white py-3 rounded-xl
                     font-semibold tracking-wide flex items-center justify-center gap-2
                     hover:bg-purple-700 hover:scale-[1.02]
                     transform transition duration-200 shadow-lg">
        <img src="{{ url_for('static', filename='icons/log-out.svg') }}" alt="Ingresar" class="h-5 w-5 icon-purple">
        Ingresar
      </button>
    </form>

    <!-- Footer -->
    <div class="mt-6 text-center text-sm text-gray-600">
      ¿No tienes cuenta?
      <a href="{{ url_for('auth.register') }}"
         class="text-purple-600 font-semibold hover:underline flex items-center justify-center gap-1 mt-1">
        <img src="{{ url_for('static', filename='icons/circle-plus.svg') }}" alt="Registrar" class="h-4 w-4 icon-purple">
        Regístrate
      </a>
    </div>

  </div>

</div>

<!-- Clase global para íconos morados translúcidos -->
<style>
  .icon-purple {
    opacity: 0.7;
    filter: invert(29%) sepia(85%) saturate(746%) hue-rotate(230deg) brightness(95%) contrast(90%);
  }
</style>
{% endblock %}